<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Printer.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">wordle</a> &gt; <a href="index.source.html" class="el_package">it.uniba.app</a> &gt; <span class="el_source">Printer.java</span></div><h1>Printer.java</h1><pre class="source lang-java linenums">package it.uniba.app;

import java.io.PrintWriter;
/**
 * {@literal &lt;&lt;Boundary&gt;&gt;} &lt;br&gt;
 * Classe per la stampa dell'output da visualizzare sulla console. &lt;p&gt;&lt;/p&gt;
 * Utilizza codici ANSI per la visualizzazione dei colori e costanti UNICODE nelle stampe di gioco.
 */
public class Printer extends PrintWriter
{
    // angoli (L = left, R = right, U = up, D = down)
    private static final char L_U_ANGLE = '\u2554';
    private static final char R_U_ANGLE = '\u2557';
    private static final char L_D_ANGLE = '\u255A';
    private static final char R_D_ANGLE = '\u255D';

    // separatori
    private static final char L_SEPARATOR = '\u2560';
    private static final char R_SEPARATOR = '\u2563';
    private static final char U_SEPARATOR= '\u2566';
    private static final char D_SEPARATOR= '\u2569';
    private static final char CROSS = '\u256c';

    // spigoli
    private static final char VERTICAL_EDGE = '\u2551';
    private static final char HORIZONTAL_EDGE = '\u2550';

    // unioni
    private static final String HORIZONTAL_EDGE_X3 = HORIZONTAL_EDGE + &quot;&quot; + HORIZONTAL_EDGE + HORIZONTAL_EDGE;

    //backgrounds
    public static final String GREY_BACKGROUND = &quot;\u001b[30;47m&quot;; //GREY
    public static final String GREEN_BACKGROUND = &quot;\u001b[30;42m&quot;;  // GREEN
    public static final String YELLOW_BACKGROUND = &quot;\u001b[30;43m&quot;; // YELLOW
    // bold
    public static final String BOLD = &quot;\u001b[1m&quot;;
    // reset
    public static final String RESET = &quot;\u001b[0m&quot;;  // Text Reset

    Printer()
    {
<span class="nc" id="L42">        super(System.out,true);</span>
<span class="nc" id="L43">    }</span>

    /**
     * Stampa la matrice dei tentativi per la partita in corso,
     * impostando il colore delle caselle in base al risultato di ogni tentativo.
     */
    public void printBoard()
    {
<span class="nc" id="L51">        int rows = Wordle.getMaxGuesses();</span>
<span class="nc" id="L52">        int columns = Wordle.getWordLength();</span>

        //stampa parte superiore della Board
<span class="nc" id="L55">        println(upperPart(columns));</span>

        // stampa le righe (dalla prima alla penultima)
<span class="nc bnc" id="L58" title="All 2 branches missed.">        for(int i = 0; i &lt; rows - 1; i++)</span>
        {
<span class="nc" id="L60">            println(guessSlice(i));</span>
<span class="nc" id="L61">            println(separatorSlice(columns));</span>
        }

        // stampa ultima riga
<span class="nc" id="L65">        println(guessSlice(rows-1));</span>
<span class="nc" id="L66">        println(lowerPart(columns));</span>
<span class="nc" id="L67">    }</span>

    private String upperPart(int wordLength)
    {
<span class="nc" id="L71">        StringBuilder upperPart = new StringBuilder(L_U_ANGLE + &quot;&quot; + HORIZONTAL_EDGE_X3);</span>

<span class="nc bnc" id="L73" title="All 2 branches missed.">        for(int i = 1; i &lt;= wordLength - 1; i++)</span>
<span class="nc" id="L74">            upperPart.append(U_SEPARATOR + &quot;&quot; + HORIZONTAL_EDGE_X3);</span>

<span class="nc" id="L76">        upperPart.append(R_U_ANGLE);</span>

<span class="nc" id="L78">        return upperPart.toString();</span>
    }

    private String guessSlice(int row)
    {
<span class="nc" id="L83">        StringBuilder guessSlice = new StringBuilder(VERTICAL_EDGE + &quot;&quot;);</span>
        Color c;
        char l;
<span class="nc" id="L86">        String background = &quot;&quot;;</span>
        int wordLength;

<span class="nc bnc" id="L89" title="All 2 branches missed.">        for(int i = 0; i &lt; Wordle.getWordLength(); i++)</span>
        {
<span class="nc" id="L91">            l = Wordle.getLetter(row, i);</span>
<span class="nc" id="L92">            c = Wordle.getColor(row, i);</span>

<span class="nc bnc" id="L94" title="All 5 branches missed.">            switch (c)</span>
            {
                case GREEN:
<span class="nc" id="L97">                    background = GREEN_BACKGROUND;</span>
<span class="nc" id="L98">                    break;</span>
                case YELLOW:
<span class="nc" id="L100">                    background = YELLOW_BACKGROUND;</span>
<span class="nc" id="L101">                    break;</span>
                case GREY:
<span class="nc" id="L103">                    background = GREY_BACKGROUND;</span>
<span class="nc" id="L104">                    break;</span>
                case NO_COLOR:
<span class="nc" id="L106">                    background = &quot;&quot;;</span>
                    break;
            }
<span class="nc" id="L109">            guessSlice.append(background + &quot; &quot; + l + &quot; &quot; + RESET).append(VERTICAL_EDGE);</span>
        }

<span class="nc" id="L112">        return guessSlice.toString();</span>
    }

    private String separatorSlice(int wordLength)
    {
<span class="nc" id="L117">        StringBuilder separatorSlice = new StringBuilder(L_SEPARATOR + &quot;&quot; + HORIZONTAL_EDGE_X3);</span>

<span class="nc bnc" id="L119" title="All 2 branches missed.">        for(int i = 1; i &lt;= wordLength - 1; i++)</span>
<span class="nc" id="L120">            separatorSlice.append(CROSS + HORIZONTAL_EDGE_X3);</span>

<span class="nc" id="L122">        separatorSlice.append(R_SEPARATOR);</span>

<span class="nc" id="L124">        return separatorSlice.toString();</span>
    }

    private String lowerPart(int wordLength)
    {
<span class="nc" id="L129">        StringBuilder lowerPart = new StringBuilder(L_D_ANGLE + &quot;&quot; + HORIZONTAL_EDGE_X3);</span>

<span class="nc bnc" id="L131" title="All 2 branches missed.">        for(int i = 1; i &lt;= wordLength - 1; i++)</span>
<span class="nc" id="L132">            lowerPart.append(D_SEPARATOR +  HORIZONTAL_EDGE_X3);</span>

<span class="nc" id="L134">        lowerPart.append(R_D_ANGLE);</span>

<span class="nc" id="L136">        return lowerPart.toString();</span>
    }

    public void printMissingArgs()
    {
<span class="nc" id="L141">        println(&quot;Argomento/i mancante/i&quot;);</span>
<span class="nc" id="L142">    }</span>

    public void printGuessResult()
    {
<span class="nc" id="L146">        int maxGuesses = Wordle.getMaxGuesses();</span>
<span class="nc" id="L147">        int remainingGuesses = Wordle.getNumRemainingGuesses();</span>

<span class="nc bnc" id="L149" title="All 2 branches missed.">        if(Wordle.getGuessResult())</span>
        {
<span class="nc" id="L151">            println(&quot;Parola segreta indovinata&quot;);</span>
<span class="nc" id="L152">            println(&quot;Numero di tentativi: &quot;+ (maxGuesses - remainingGuesses));</span>
        }
        else
        {
<span class="nc bnc" id="L156" title="All 2 branches missed.">            if(remainingGuesses == 0)</span>
            {
<span class="nc" id="L158">                println(&quot;Hai raggiunto il numero massimo di tentativi&quot;);</span>
<span class="nc" id="L159">                println(&quot;La parola segreta è: &quot; + Wordle.getGameSecretWord());</span>
            }
        }
<span class="nc" id="L162">    }</span>

    public void printDescription()
    {
<span class="nc" id="L166">        printWordleLogo();</span>

<span class="nc" id="L168">        println(&quot;Wordle è un videogioco in cui il giocatore deve indovinare una parola segreta&quot;);</span>
<span class="nc" id="L169">        println(&quot;avendo a disposizione 6 tentativi che dovranno essere parole di una lunghezza&quot;);</span>
<span class="nc" id="L170">        println(&quot;prestabilita (nel nostro caso 5 lettere).&quot;);</span>
<span class="nc" id="L171">        println(&quot;Ad ogni tentativo, ogni lettera della parola inserita viene evidenziata in:&quot;);</span>

<span class="nc" id="L173">        print(GREEN_BACKGROUND + &quot;VERDE&quot; + RESET);</span>
<span class="nc" id="L174">        println(&quot; se è contenuta nella parola segreta ed è nella giusta posizione&quot;);</span>

<span class="nc" id="L176">        print(YELLOW_BACKGROUND + &quot;GIALLO&quot; + RESET);</span>
<span class="nc" id="L177">        println(&quot; se è contenuta nella parola segreta ma in una posizione diversa&quot;);</span>

<span class="nc" id="L179">        print(GREY_BACKGROUND + &quot;GRIGIO&quot; + RESET);</span>
<span class="nc" id="L180">        println(&quot; se non è contenuta nella parola segreta\n&quot;);</span>
<span class="nc" id="L181">    }</span>

    private void printWordleLogo()
    {
<span class="nc" id="L185">        println(upperPart(6));</span>
<span class="nc" id="L186">        print(VERTICAL_EDGE);</span>

<span class="nc" id="L188">        print(coloredLetterSpace('W', Color.GREEN) + VERTICAL_EDGE);</span>
<span class="nc" id="L189">        print(coloredLetterSpace('O', Color.GREY) + VERTICAL_EDGE);</span>
<span class="nc" id="L190">        print(coloredLetterSpace('R', Color.YELLOW) + VERTICAL_EDGE);</span>
<span class="nc" id="L191">        print(coloredLetterSpace('D', Color.GREEN) + VERTICAL_EDGE);</span>
<span class="nc" id="L192">        print(coloredLetterSpace('L', Color.YELLOW) + VERTICAL_EDGE);</span>
<span class="nc" id="L193">        println(coloredLetterSpace('E', Color.GREY) + VERTICAL_EDGE);</span>

<span class="nc" id="L195">        println(lowerPart(6));</span>
<span class="nc" id="L196">    }</span>

    private String coloredLetterSpace(char c, Color color)
    {
<span class="nc" id="L200">        String background = &quot;&quot;;</span>
<span class="nc bnc" id="L201" title="All 4 branches missed.">        switch (color)</span>
        {
            case GREEN:
<span class="nc" id="L204">                background = GREEN_BACKGROUND;</span>
<span class="nc" id="L205">                break;</span>
            case YELLOW:
<span class="nc" id="L207">                background = YELLOW_BACKGROUND;</span>
<span class="nc" id="L208">                break;</span>
            case GREY:
<span class="nc" id="L210">                background = GREY_BACKGROUND;</span>
                break;
        }
<span class="nc" id="L213">        return(background + &quot; &quot; + c + &quot; &quot; + RESET);</span>
    }

    public void printHelp()
    {
<span class="nc" id="L218">        println(&quot;Il gioco accetta i seguenti comandi:&quot;);</span>
<span class="nc" id="L219">        println(BOLD + &quot;\t/gioca&quot; + RESET + &quot;\t\t\tinizia una nuova partita (la parola segreta deve essere impostata)&quot;);</span>
<span class="nc" id="L220">        println(BOLD + &quot;\t/nuova &lt;parola&gt;&quot; + RESET + &quot;\timposta &lt;parola&gt; come parola segreta&quot;);</span>
<span class="nc" id="L221">        println(BOLD + &quot;\t/mostra&quot; + RESET + &quot;\t\t\tvisualizza la parola segreta impostata&quot;);</span>
<span class="nc" id="L222">        println(BOLD +  &quot;\t/abbandona&quot; + RESET + &quot;\t\tabbandona la partita in corso&quot;);</span>
<span class="nc" id="L223">        println(BOLD + &quot;\t/esci&quot; + RESET + &quot;\t\t\tchiude il gioco&quot;);</span>
<span class="nc" id="L224">        println(BOLD + &quot;\t&lt;parola&gt;&quot; + RESET + &quot;\t\tper effettuare un tentativo\n&quot;);</span>
<span class="nc" id="L225">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>